const express=require('express');
const {postArticle}=require('../controllers/postArticle');
const {uploadImage}=require('../controllers/uploadImage');
// const {authenticateToken}=require('../services/Authentication');
const {findArticle}=require('../controllers/findArticle');
const {findSingleArticle}=require('../controllers/findSingleArticle');
const {getUserArticles}=require('../controllers/UserArticles');
const {clapArticle,toggleSavedArticle}=require('../controllers/socialFeatures');
const multer=require('multer');
const router=express.Router();
const upload=multer({storage:multer.memoryStorage()});
router.post('/article/post',postArticle);
router.post('/article/upload-image',upload.single("image"),uploadImage);
router.get('/article/search',findArticle);
router.get('/article/:slug',findSingleArticle);
router.post('/article/:slug/clap',clapArticle);
router.get('/article/user/articles',getUserArticles);
router.post('/article/:slug/save',toggleSavedArticle);
module.exports=router;
